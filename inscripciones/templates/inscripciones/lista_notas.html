{% extends 'app/base_user.html' %}
{% load custom_tags %}  {# PASO 2: carga del filtro personalizado #}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4 text-white">Notas por Materia</h2>

    {% if inscripciones %}
        <table class="table table-dark table-striped table-bordered rounded">
            <thead>
                <tr>
                    <th>Materia</th>
                    <th>Nota</th>
                    <th>Fecha de Carga</th>
                </tr>
            </thead>
            <tbody>
                {% for inscripcion in inscripciones %}
                    <tr>
                        <td>{{ inscripcion.materia.nombre }}</td>
                        {% if inscripcion|has_nota %}
                            <td>{{ inscripcion.nota.nota }}</td>
                            <td>{{ inscripcion.nota.fecha_carga|date:"d/m/Y H:i" }}</td>
                        {% else %}
                            <td colspan="2">Nota no cargada</td>
                        {% endif %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <div class="alert alert-info">No estás inscripto en ninguna materia aún.</div>
    {% endif %}
</div>
{% endblock %}
